name: âš¡ Exercise 4 - Environment Specific Deploy

on:
  push:
    branches:
      - '**'


jobs:
  deploy-to-dev:
    name: ğŸŒ± Deploy to Development
    if: github.ref != 'refs/heads/main'
    runs-on: ubuntu-latest
    environment: dev
    steps:
      - name: ğŸ Start Dev Deployment
        run: echo "Deploying to ${{ github.environment }}"

      - name: ğŸ’» Dummy Deploy Dev
        run: echo "Dev deploy step executed for ${{ github.environment }}"

  deploy-to-prod:
    name: ğŸ”¥ Deploy to Production
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    environment: prod
    steps:
      - name: ğŸ Start Prod Deployment
        run: echo "Deploying to ${{ github.environment }}"

      - name: ğŸ’» Dummy Deploy Prod
        run: echo "Prod deploy step executed for ${{ github.environment }}"
